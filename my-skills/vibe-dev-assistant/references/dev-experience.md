# 开发经验与项目规范

## 1. 变量名维护方案

### 变量名大全文件
建立统一的变量索引文件：

| 变量名 | 变量注释 | 出现位置 | 出现频率 |
|--------|----------|----------|----------|
| user_age | 用户年龄 | /src/user/profile.js | 12 |

**目的：**
- 统一变量命名
- 方便全局搜索
- AI 或人工统一管理、重构
- 降低命名冲突和语义不清晰风险

---

## 2. 文件结构与命名规范

### 子文件夹内容
每个子目录中需要包含：
- `agents` — 自动化流程、提示词、代理逻辑
- `claude.md` — 文件夹内容说明、设计思路与用途

### 文件命名规则
- 使用 **小写英文 + 下划线** 或 **小驼峰**
- 文件名需体现内容职责
- 避免缩写与含糊不清的命名

示例：
- `user_service.js`
- `order_processor.py`
- `config_loader.go`

### 变量命名规则
- 命名尽可能语义化
- 遵循英语语法逻辑（名词属性、动词行为）
- 避免 `a, b, c` 无意义名称
- 常量使用大写 + 下划线（如 `MAX_RETRY_COUNT`）

---

## 3. 编码规范

### 单一职责
每个文件、每个类、每个函数只负责一件事

### 可复用组件
- 提炼公共逻辑
- 避免重复代码（DRY）
- 模块化、函数化

### 消费端/生产端/状态/变换

| 概念 | 说明 |
|------|------|
| 消费端 | 接收外部数据或依赖输入的地方 |
| 生产端 | 生成数据、输出结果的地方 |
| 状态 | 存储当前系统信息的变量 |
| 变换 | 处理状态、改变数据的逻辑 |

明确区分 **输入 → 处理 → 输出**

### 并发
- 清晰区分共享资源
- 避免数据竞争
- 必要时加锁或使用线程安全结构

---

## 4. 系统架构原则

### 先梳理清楚架构
在写代码前先明确：
- 模块划分
- 输入输出
- 数据流向
- 服务边界
- 技术栈
- 依赖关系

### 开发流程
1. 先理解需求
2. 保持架构与代码简单
3. 写可维护的自动化测试
4. 小步迭代，不做大爆炸开发

---

## 5. 程序设计核心思想

1. **从问题开始**，而不是从代码开始
2. **大问题拆小问题**（Divide & Conquer）
3. **KISS 原则** - 保持简单
4. **DRY 原则** - 不要重复
5. **清晰的命名** - `user_age` 比 `a` 清晰
6. **单一职责** - 一个函数只处理一个任务
7. **代码可读性优先** - 写给人理解的
8. **合理注释** - 解释"为什么"，不是"怎么做"
9. **Make it work → Make it right → Make it fast**
10. **错误是朋友** - 调试是必修课
11. **Git 版本控制** - 永远不要把代码只放本地
12. **测试你的代码** - 未测试的代码迟早会出问题

---

## 6. 微服务

将系统拆解为多个 **独立开发、独立部署、独立扩容** 的服务

特点：
- 每个服务处理一个业务边界
- 服务间通过 API 通信
- 更灵活、更可扩展、容错更高

---

## 7. Redis

Redis 的作用：
- 作为缓存极大提升系统"读性能"
- 降低数据库压力
- 提供计数、锁、队列、Session 等能力
- 让系统更快、更稳定、更抗压

---

## 8. 消息队列

用于服务之间的"异步通信"

作用：
- 解耦
- 削峰填谷
- 异步任务处理
- 提高系统稳定性与吞吐
