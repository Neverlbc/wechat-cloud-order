<!--pages/admin-settings/admin-settings.wxml-->
<view class="settings-page">

  <!-- 营业状态 -->
  <view class="section">
    <view class="section-title">营业状态</view>
    <view class="status-card {{shopInfo.isOpen ? 'open' : 'closed'}}" bindtap="onToggleOpen">
      <view class="status-left">
        <text class="status-icon">{{shopInfo.isOpen ? '🟢' : '🔴'}}</text>
        <view class="status-text">
          <text class="status-main">{{shopInfo.isOpen ? '营业中' : '已打烊'}}</text>
          <text class="status-sub">点击切换状态</text>
        </view>
      </view>
      <view class="toggle-switch {{shopInfo.isOpen ? 'on' : ''}}">
        <view class="toggle-dot"></view>
      </view>
    </view>
  </view>

  <!-- 基本信息 -->
  <view class="section">
    <view class="section-title">基本信息</view>
    <view class="form-group">
      <view class="form-item">
        <text class="form-label">店铺名称</text>
        <input class="form-input" value="{{shopInfo.name}}" bindinput="onInput" data-field="name" placeholder="输入店铺名称" />
      </view>
      <view class="form-item">
        <text class="form-label">联系电话</text>
        <input class="form-input" type="number" value="{{shopInfo.phone}}" bindinput="onInput" data-field="phone" placeholder="输入联系电话" />
      </view>
      <view class="form-item">
        <text class="form-label">店铺地址</text>
        <input class="form-input" value="{{shopInfo.address}}" bindinput="onInput" data-field="address" placeholder="输入详细地址" />
      </view>
      <view class="form-item">
        <text class="form-label">公告信息</text>
        <textarea class="form-textarea" value="{{shopInfo.notice}}" bindinput="onInput" data-field="notice" placeholder="输入店铺公告（可留空）" maxlength="200" auto-height></textarea>
      </view>
    </view>
  </view>

  <!-- 营业时间 -->
  <view class="section">
    <view class="section-title">营业时间</view>
    <view class="form-group">
      <view class="form-item">
        <text class="form-label">开始时间</text>
        <picker mode="time" value="{{shopInfo.openTime}}" bindchange="onInput" data-field="openTime">
          <view class="form-picker">{{shopInfo.openTime}} ▾</view>
        </picker>
      </view>
      <view class="form-item">
        <text class="form-label">结束时间</text>
        <picker mode="time" value="{{shopInfo.closeTime}}" bindchange="onInput" data-field="closeTime">
          <view class="form-picker">{{shopInfo.closeTime}} ▾</view>
        </picker>
      </view>
    </view>
  </view>

  <!-- 配送设置 -->
  <view class="section">
    <view class="section-title">费用设置</view>
    <view class="form-group">
      <view class="form-item">
        <text class="form-label">配送费（元）</text>
        <input class="form-input" type="digit" value="{{shopInfo.deliveryFee}}" bindinput="onInput" data-field="deliveryFee" placeholder="0" />
      </view>
      <view class="form-item">
        <text class="form-label">打包费（元）</text>
        <input class="form-input" type="digit" value="{{shopInfo.packingFee}}" bindinput="onInput" data-field="packingFee" placeholder="0" />
      </view>
      <view class="form-item">
        <text class="form-label">起送金额（元）</text>
        <input class="form-input" type="digit" value="{{shopInfo.minOrderAmount}}" bindinput="onInput" data-field="minOrderAmount" placeholder="0为不限" />
      </view>
    </view>
  </view>

  <!-- 安全设置 -->
  <view class="section">
    <view class="section-title">安全设置</view>
    <view class="form-group">
      <view class="action-item" bindtap="onChangePin">
        <text class="action-label">🔑 修改管理密码</text>
        <text class="action-arrow">›</text>
      </view>
      <view class="action-item danger" bindtap="onClearOrders">
        <text class="action-label">🗑️ 清除本地缓存数据</text>
        <text class="action-arrow">›</text>
      </view>
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="save-area">
    <view class="save-btn" bindtap="onSave">保存设置</view>
  </view>

</view>
